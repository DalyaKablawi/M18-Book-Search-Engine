{"ast":null,"code":"var _jsxFileName = \"/Users/dalyakablawi/Desktop/M18/M18-Book-Search-Engine/client/src/pages/Login.js\";\nimport React, { useState } from \"react\";\nimport { useMutation } from \"@apollo/client\";\nimport { LOGIN_USER } from \"../utils/mutations\";\nimport Auth from \"../utils/auth\";\nfunction Login() {\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [login, {\n    error\n  }] = useMutation(LOGIN_USER);\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    try {\n      const {\n        data\n      } = await login({\n        variables: {\n          ...formData\n        }\n      });\n      Auth.login(data.login.token);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"email\",\n    type: \"email\",\n    placeholder: \"Email\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"Password\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, \"Login\"), error && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, \"Login failed\"));\n}\nexport default Login;","map":{"version":3,"names":["React","useState","useMutation","LOGIN_USER","Auth","Login","formData","setFormData","email","password","login","error","handleChange","event","name","value","target","handleSubmit","preventDefault","data","variables","token","err","console","createElement","onSubmit","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange"],"sources":["/Users/dalyakablawi/Desktop/M18/M18-Book-Search-Engine/client/src/pages/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useMutation } from \"@apollo/client\";\nimport { LOGIN_USER } from \"../utils/mutations\";\nimport Auth from \"../utils/auth\";\n\nfunction Login() {\n  const [formData, setFormData] = useState({ email: \"\", password: \"\" });\n  const [login, { error }] = useMutation(LOGIN_USER);\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const { data } = await login({ variables: { ...formData } });\n      Auth.login(data.login.token);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        name=\"email\"\n        type=\"email\"\n        placeholder=\"Email\"\n        onChange={handleChange}\n      />\n      <input\n        name=\"password\"\n        type=\"password\"\n        placeholder=\"Password\"\n        onChange={handleChange}\n      />\n      <button type=\"submit\">Login</button>\n      {error && <p>Login failed</p>}\n    </form>\n  );\n}\n\nexport default Login;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,UAAU,QAAQ,oBAAoB;AAC/C,OAAOC,IAAI,MAAM,eAAe;AAEhC,SAASC,KAAKA,CAAA,EAAG;EACf,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC;IAAEO,KAAK,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAG,CAAC,CAAC;EACrE,MAAM,CAACC,KAAK,EAAE;IAAEC;EAAM,CAAC,CAAC,GAAGT,WAAW,CAACC,UAAU,CAAC;EAElD,MAAMS,YAAY,GAAIC,KAAK,IAAK;IAC9B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,KAAK,CAACG,MAAM;IACpCT,WAAW,CAAC;MAAE,GAAGD,QAAQ;MAAE,CAACQ,IAAI,GAAGC;IAAM,CAAC,CAAC;EAC7C,CAAC;EAED,MAAME,YAAY,GAAG,MAAOJ,KAAK,IAAK;IACpCA,KAAK,CAACK,cAAc,CAAC,CAAC;IACtB,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMT,KAAK,CAAC;QAAEU,SAAS,EAAE;UAAE,GAAGd;QAAS;MAAE,CAAC,CAAC;MAC5DF,IAAI,CAACM,KAAK,CAACS,IAAI,CAACT,KAAK,CAACW,KAAK,CAAC;IAC9B,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,OAAO,CAACZ,KAAK,CAACW,GAAG,CAAC;IACpB;EACF,CAAC;EAED,oBACEtB,KAAA,CAAAwB,aAAA;IAAMC,QAAQ,EAAER,YAAa;IAAAS,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC3B/B,KAAA,CAAAwB,aAAA;IACEV,IAAI,EAAC,OAAO;IACZkB,IAAI,EAAC,OAAO;IACZC,WAAW,EAAC,OAAO;IACnBC,QAAQ,EAAEtB,YAAa;IAAAc,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACxB,CAAC,eACF/B,KAAA,CAAAwB,aAAA;IACEV,IAAI,EAAC,UAAU;IACfkB,IAAI,EAAC,UAAU;IACfC,WAAW,EAAC,UAAU;IACtBC,QAAQ,EAAEtB,YAAa;IAAAc,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACxB,CAAC,eACF/B,KAAA,CAAAwB,aAAA;IAAQQ,IAAI,EAAC,QAAQ;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,OAAa,CAAC,EACnCpB,KAAK,iBAAIX,KAAA,CAAAwB,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,cAAe,CACxB,CAAC;AAEX;AAEA,eAAe1B,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module"}